<div class="card text-left">
  <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs">
      <li class="nav-item">
        <a class="nav-link active" *ngIf="seccion == 1">Solicitante</a>
				<a class="nav-link" *ngIf="seccion != 1">Solicitante</a>
      </li>
      <li class="nav-item">
				<a class="nav-link active" *ngIf="seccion == 2">Requerimientos</a>
				<a class="nav-link" *ngIf="seccion != 2">Requerimientos</a>
      </li>
			<li class="nav-item">
				<a class="nav-link active" *ngIf="seccion == 3">Observaciones</a>
				<a class="nav-link" *ngIf="seccion != 3">Observaciones</a>
      </li>
    </ul>
  </div>

	<form #formSolicitud="ngForm" (ngSubmit)="onSubmit()" novalidate="" >
		<!-- Seccion 1-->
		<div class="card-body" *ngIf="seccion == 1">
			<div class="form-group">
				<label for="entidad_solicitante">UAA o entidad solicitante</label>
				<div class="">
					<select class="form-control"
									#entidad_solicitante="ngModel" name="entidad_solicitante"
									[(ngModel)]="solicitud.formulario['entidad_solicitante']" required>
								<option value="" disabled>Seleccione una entidad</option>
								<option *ngFor="let unidad of unidades"
									[value]="unidad.unidad_nombre"> {{ unidad.unidad_nombre }} </option>

					</select>
				</div>
		  </div>

			<div class="form-row">
				<div class="form-group col-md-6">
					<label for="inputfecha">Fecha de solicitud (dd/mm/aa)</label>
					<input type="text" name="fecha" [(ngModel)]="solicitud.formulario['fecha']" class="form-control" disabled/>
				</div>
				<div class="form-group col-md-6">
					<label for="hora">Hora:</label>
					<input type="text" name="hora" [(ngModel)]="solicitud.formulario['hora']" class="form-control" disabled />
				</div>
			</div>

			<div class="form-group">
				<label for="nombre_solicitante">Nombre del solicitante</label>
				<input type="text" #nombre_solicitante="ngModel" name="nombre_solicitante"
							[(ngModel)]="solicitud.formulario['nombre_solicitante']"
							class="form-control"
							[ngClass]="{'is-invalid': !nombre_solicitante.valid && nombre_solicitante.touched}"
							required />
				<div class="invalid-feedback" *ngIf="!nombre_solicitante.valid && nombre_solicitante.touched">
					Este campo es requerido
				</div>
			</div>

			<div class="form-row">
				<div class="form-group col">
					<label for="descripcionServicio">Descripci칩n del servicio solicitado</label>
					<textarea  #descripcion="ngModel" name="descripcion"
										[(ngModel)]="solicitud.formulario['descripcion']"
										class="form-control"
										[ngClass]="{'is-invalid': !descripcion.valid && descripcion.touched }"
										required></textarea>
					<div class="invalid-feedback" *ngIf="!descripcion.valid && descripcion.touched">
						Este campo es requerido
					</div>
				</div>
			</div>

			<button class="btn btn-primary col align-self-end" (click) = "seccionSiguiente()" [disabled]="!formSolicitud.form.valid"> Siguiente</button>
		</div>

		<!-- Seccion 2-->
		<div class="card-body" *ngIf="seccion == 2">
			<div class="form-group">
				<label for="materiales">Listado de materiales</label>
		    <input type="text" name="materiales" [(ngModel)]="solicitud.formulario['materiales']" class="form-control" id="materiales" required>
		  </div>

			<label for="">Elementos de protecci칩n</label>
			<div class="form-row">
				<div class="form-group col-md-10">
					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
						  <input
									type="checkbox"
									class="custom-control-input"
									id="respirador"
									name="respirador"
									[(ngModel)]="solicitud.formulario.elementos['Respirador']">
						  <label class="custom-control-label" for="respirador">Respirador</label>
						</div>
					</div>
					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
							<input
									type="checkbox"
									class="custom-control-input"
									name="guantes"
									 [(ngModel)]="solicitud.formulario.elementos['Guantes']"
									id="guantes">
							<label class="custom-control-label" for="guantes">Guantes</label>
						</div>
					</div>

					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
							<input
									type="checkbox"
									class="custom-control-input"
									name="trabajo"
									 [(ngModel)]="solicitud.formulario.elementos['trabajo en alturas']"
									id="trabajo">
							<label class="custom-control-label" for="trabajo">Trabajo en alturas</label>
						</div>
					</div>

					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
							<input
									type="checkbox"
									class="custom-control-input"
									name="gafas"
									[(ngModel)]="solicitud.formulario.elementos['Gafas']"
									id="gafas">
							<label class="custom-control-label" for="gafas">Gafas</label>
						</div>
					</div>

					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
							<input
									type="checkbox"
									name="otros"
									[(ngModel)]="solicitud.formulario.elementos['otros']"
									class="custom-control-input"
									id="otros">
							<label class="custom-control-label" for="otros">Otros</label>
						</div>
					</div>

					<div *ngIf="solicitud.formulario.elementos['otros'] == true" class="form-group form-check form-check-inline">
						<input
								type="text"
								class="form-control form-control-sm"
								name="otro"
								[(ngModel)]="solicitud.formulario.elementos['otro']"
								id="otro"
								required>
					</div>

				</div>
			</div>

			<label for="">Especiales</label>
			<div class="form-row">
				<div class="form-group col-md-10">
					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
						  <input
									type="checkbox"
									class="custom-control-input"
									id="energia"
									name="energia"
									[(ngModel)]="solicitud.formulario.especiales['corteEnergia']">
						  <label class="custom-control-label" for="energia">Corte de Energia</label>
						</div>
					</div>
					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
							<input
									type="checkbox"
									class="custom-control-input"
									name="agua"
									 [(ngModel)]="solicitud.formulario.especiales['corteAgua']"
									id="agua">
							<label class="custom-control-label" for="agua">Corte de Agua</label>
						</div>
					</div>

					<div class="form-group form-check form-check-inline">
						<div class="custom-control custom-checkbox">
							<input
									type="checkbox"
									name="especialesOtros"
									[(ngModel)]="solicitud.formulario.especiales['especialesOtros']"
									class="custom-control-input"
									id="especialesOtros">
							<label class="custom-control-label" for="especialesOtros">Otros</label>
						</div>
					</div>

					<div *ngIf="solicitud.formulario.especiales['especialesOtros'] == true" class="form-group form-check form-check-inline">
						<input
								type="text"
								class="form-control form-control-sm"
								name="especialesOtro"
								[(ngModel)]="solicitud.formulario.especiales['otro']"
								id="especialesOtro"
								required>
					</div>

				</div>
			</div>

			<!-- Botones-->
			<div class="form-row">
				<div class="form-group col-md-6">
					<button class="btn btn-primary col align-self-end" (click) = "seccionAnterior()"> Atr치s</button>
				</div>
				<div class="form-group col-md-6">
					<button class="btn btn-primary col align-self-end" (click) = "seccionSiguiente()" [disabled]="!formSolicitud.form.valid"> Siguiente</button>
				</div>
			</div>

		</div>

		<!-- Seccion 3-->
		<div class="card-body" *ngIf="seccion == 3">
			<div class="form-row">
				<div class="form-group col">
					<label for="observaciones">Observaciones (Opcional)</label>
					<textarea name="observaciones" [(ngModel)]="solicitud.formulario['observaciones']" class="form-control" id="observaciones" rows="3"></textarea>
				</div>
			</div>

			<!-- Botones-->
			<div class="form-row">
				<div class="form-group col-md-6">
					<button class="btn btn-primary col align-self-end" (click) = "seccionAnterior()"> Atr치s</button>
				</div>
				<div class="form-group col-md-6">
					<button type="submit" class="btn btn-primary col align-self-end" [disabled]="!formSolicitud.form.valid"> Enviar</button>
				</div>
			</div>
		</div>

	</form>

</div>
